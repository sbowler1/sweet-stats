generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider     = "mysql"
    url          = env("DATABASE_URL")
    relationMode = "prisma"
}

model destinyCharacter {
    membershipId      String   @id
    membershipType    Int
    emblemPath        String
    name              String
    playerTitle       String
    light             Int
    artifactPower     Int
    raceClass         String
    seasonRank        Int
    timePlayedHours   Int
    timePlayedMinutes Int
    kdaPVP            String
    kdaPVE            String
    lastPlayed        String
    characterId       String
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt

    guildPlayer guildPlayer[]
}

model guildPlayer {
    id          String @id @default(uuid())
    guildId     String
    displayName String
    memberId    String

    destinyCharacterId String
    destinyCharacter   destinyCharacter @relation(fields: [destinyCharacterId], references: [membershipId])

    @@index([destinyCharacterId])
}

model guildPrefs {
    guildId   String @id
    channelId String
}
